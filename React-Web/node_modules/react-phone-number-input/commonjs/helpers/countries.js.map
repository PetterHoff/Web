{"version":3,"file":"countries.js","names":["_core","require","_createForOfIteratorHelperLoose","o","allowArrayLike","it","Symbol","iterator","call","next","bind","Array","isArray","_unsupportedIterableToArray","length","i","done","value","TypeError","minLen","_arrayLikeToArray","n","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","sortCountryOptions","options","order","optionsOnTop","optionsOnBottom","appendTo","_loop","element","_step","push","divider","countryCode","undefined","index","indexOf","filter","option","splice","_iterator","concat","getSupportedCountryOptions","countryOptions","metadata","isCountrySupportedWithError","country","isSupportedCountry","console","error","getSupportedCountries","countries"],"sources":["../../source/helpers/countries.js"],"sourcesContent":["// Ignores weird istanbul error: \"else path not taken\".\r\nimport { isSupportedCountry } from 'libphonenumber-js/core'\r\nexport { getCountries } from 'libphonenumber-js/core'\r\n\r\n/**\r\n * Sorts country `<select/>` options.\r\n * Can move some country `<select/>` options\r\n * to the top of the list, for example.\r\n * @param  {object[]} countryOptions — Country `<select/>` options.\r\n * @param  {string[]} [countryOptionsOrder] — Country `<select/>` options order. Example: `[\"US\", \"CA\", \"AU\", \"|\", \"...\"]`.\r\n * @return {object[]}\r\n */\r\nexport function sortCountryOptions(options, order) {\r\n\tif (!order) {\r\n\t\treturn options\r\n\t}\r\n\tconst optionsOnTop = []\r\n\tconst optionsOnBottom = []\r\n\tlet appendTo = optionsOnTop\r\n\tfor (const element of order) {\r\n\t\tif (element === '|') {\r\n\t\t\tappendTo.push({ divider: true })\r\n\t\t} else if (element === '...' || element === '…') {\r\n\t\t\tappendTo = optionsOnBottom\r\n\t\t} else {\r\n\t\t\tlet countryCode\r\n\t\t\tif (element === '🌐') {\r\n\t\t\t\tcountryCode = undefined\r\n\t\t\t} else {\r\n\t\t\t\tcountryCode = element\r\n\t\t\t}\r\n\t\t\t// Find the position of the option.\r\n\t\t\tconst index = options.indexOf(options.filter(option => option.value === countryCode)[0])\r\n\t\t\t// Get the option.\r\n\t\t\tconst option = options[index]\r\n\t\t\t// Remove the option from its default position.\r\n\t\t\toptions.splice(index, 1)\r\n\t\t\t// Add the option on top.\r\n\t\t\tappendTo.push(option)\r\n\t\t}\r\n\t}\r\n\treturn optionsOnTop.concat(options).concat(optionsOnBottom)\r\n}\r\n\r\nexport function getSupportedCountryOptions(countryOptions, metadata) {\r\n\tif (countryOptions) {\r\n\t\tcountryOptions = countryOptions.filter((option) => {\r\n\t\t\tswitch (option) {\r\n\t\t\t\tcase '🌐':\r\n\t\t\t\tcase '|':\r\n\t\t\t\tcase '...':\r\n\t\t\t\tcase '…':\r\n\t\t\t\t\treturn true\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn isCountrySupportedWithError(option, metadata)\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (countryOptions.length > 0) {\r\n\t\t\treturn countryOptions\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function isCountrySupportedWithError(country, metadata) {\r\n\tif (isSupportedCountry(country, metadata)) {\r\n\t\treturn true\r\n\t} else {\r\n\t\tconsole.error(`Country not found: ${country}`)\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport function getSupportedCountries(countries, metadata) {\r\n\tif (countries) {\r\n\t\tcountries = countries.filter(country => isCountrySupportedWithError(country, metadata))\r\n\t\tif (countries.length === 0) {\r\n\t\t\tcountries = undefined\r\n\t\t}\r\n\t}\r\n\treturn countries\r\n}"],"mappings":"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","ignoreList":[]}